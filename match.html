<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Match - ReedStreams</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="match.css">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <header class="top-bar">
            <div class="logo">
                <span class="logo-text">Reed</span>
                <span class="logo-accent">Streams</span>
            </div>
            
            <nav class="desktop-nav">
                <ul class="nav-links">
                    <li><a href="sports.html">Live</a></li>
                    <li><a href="upcoming.html">Upcoming</a></li>
                    <li><a href="DMCA.html">DCMA</a></li>
                </ul>
            </nav>
            
            <div class="nav-actions">
              <a href="Sports.html">  <button class="watch-now-btn rolex">
                    <i class="fas fa-play-circle"></i> Brows Sports ?
                </button>
            </a>
            </div>

            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>     
        </header>

        <!---------------------------------------------------------------------------FUNCTIONALITY-------------------------------------------------------------------------------------->

    <!-- Broadcast Container -->
    <div class="broadcast-container">
        <!-- Video Section -->
        <div class="video-section">
            <video id="video-player" class="video-player" controls autoplay></video>
            <div id="match-details-container"></div>
        </div>

        <!-- Match Info -->
        <div class="match-info">
            <div class="match-title" id="match-title">
                Loading Match...
            </div>
            
            <div class="teams-display">
                <div class="team">
                    <div class="team-logo" id="team1-logo"></div>
                    <div class="team-name" id="team1-name">Home Team</div>
                </div>
                
                <div class="vs-separator">VS</div>
                
                <div class="team">
                    <div class="team-logo" id="team2-logo"></div>
                    <div class="team-name" id="team2-name">Away Team</div>
                </div>
            </div>
            
            <div class="match-time" id="match-time">Loading time...</div>
        </div>
    </div>
    
    <!---------------------------------------------------------------------------------------BS BELOW----------------------------------------------------------------------------------->
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-main">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <span class="logo-text">Reed</span>
                        <span class="logo-accent">Streams</span>
                    </div>
                    <p class="footer-tagline">
                        Your ultimate destination for free live sports streaming. Experience the thrill of the game without the subscription fees.
                    </p>
                </div>
                
                <div class="footer-links">
                    <div class="footer-column">
                        <h3 class="footer-heading">Navigation</h3>
                        <a href="#" class="footer-link"><i class="fas fa-home"></i> Home</a>
                        <a href="sports.html" class="footer-link"><i class="fas fa-broadcast-tower"></i> Live Now</a>
                        <a href="upcoming.html" class="footer-link"><i class="fas fa-calendar-alt"></i> Upcoming</a>
                    </div>
                    
                    <div class="footer-column">
                        <h3 class="footer-heading">Quick Links</h3>
                        <a href="https://reedstreams.live/live-matches.html?sportId=football&sportName=Football" class="footer-link"><i class="fas fa-futbol"></i> Football</a>
                        <a href="https://reedstreams.live/live-matches.html?sportId=basketball&sportName=Basketball" class="footer-link"><i class="fas fa-basketball-ball"></i> Basketball</a>
                        <a href="https://reedstreams.live/live-matches.html?sportId=baseball&sportName=Baseball" class="footer-link"><i class="fas fa-baseball-ball"></i> Baseball</a>
                        <a href="https://reedstreams.live/live-matches.html?sportId=hockey&sportName=Hockey" class="footer-link"><i class="fas fa-hockey-puck"></i> Hockey</a>
                    </div>
                    
                    <div class="footer-column">
                        <h3 class="footer-heading">Support</h3>
                        <a href="FAQ.html" class="footer-link"><i class="fas fa-question-circle"></i> FAQ</a>
                        <a href="COntact.html" class="footer-link"><i class="fas fa-envelope"></i> Contact</a>
                    </div>
                </div>
            </div>
            
            <div class="legal-notice">
                <p class="legal-text">
                    <span class="legal-highlight">Important Notice:</span> ReedStreams does not host any of the streams displayed on this platform. All streams are sourced from third-party providers. For any takedown requests, please contact the content hosts directly.
                </p>
            </div>
            
            <div class="footer-bottom">
                <div class="copyright">
                    Â© 2025 ReedStreams. All rights reserved.
                </div>
                
                <div class="footer-legal-links">
                    <a href="privacypolicy.html" class="footer-legal-link">Privacy Policy</a>
                    <a href="terms.html" class="footer-legal-link">Terms of Service</a>
                    <a href="DMCA.html" class="footer-legal-link">DMCA</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="match-page.js"></script>
    <script>
        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.querySelector('.header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Enhance match-page.js integration
        function updateStats(matchData) {
            // Update stats dynamically based on matchData
            if (matchData && matchData.stats) {
                document.getElementById('score').textContent = 
                    `${matchData.stats?.score?.home || 0} - ${matchData.stats?.score?.away || 0}`;
                document.getElementById('possession').textContent = 
                    `${matchData.stats?.possession?.home || 50}% - ${matchData.stats?.possession?.away || 50}%`;
                document.getElementById('time-elapsed').textContent = 
                    matchData.stats?.time || '00:00';
            }
        }

        // Override match-page.js renderMatchDetails to match our UI
        function renderMatchDetails(matchData) {
            const titleElement = document.getElementById('match-title');
            const team1Logo = document.getElementById('team1-logo');
            const team2Logo = document.getElementById('team2-logo');
            const team1Name = document.getElementById('team1-name');
            const team2Name = document.getElementById('team2-name');
            const matchTime = document.getElementById('match-time');

            const homeTeam = matchData.teams?.home;
            const awayTeam = matchData.teams?.away;
            const startTimeFormatted = formatMatchTime(matchData.date);

            titleElement.innerHTML = `
                ${matchData.title || `${homeTeam?.name || 'Home'} vs ${awayTeam?.name || 'Away'}`}
                <span class="live-indicator"><span class="live-pulse"></span> LIVE</span>
            `;
            team1Name.textContent = homeTeam?.name || 'Home Team';
            team2Name.textContent = awayTeam?.name || 'Away Team';
            matchTime.textContent = startTimeFormatted || 'Live';

            if (homeTeam?.badge) {
                team1Logo.innerHTML = `<img src="${getTeamBadgeUrl(homeTeam.badge)}" alt="${homeTeam.name}" onerror="this.style.display='none'">`;
            }
            if (awayTeam?.badge) {
                team2Logo.innerHTML = `<img src="${getTeamBadgeUrl(awayTeam.badge)}" alt="${awayTeam.name}" onerror="this.style.display='none'">`;
            }

            updateStats(matchData);
        }

        // Simulate live stats updates
        setInterval(() => {
            const storedMatch = sessionStorage.getItem('currentMatch');
            if (storedMatch) {
                const matchData = JSON.parse(storedMatch);
                // Simulate random updates (replace with real API updates in production)
                matchData.stats = matchData.stats || {};
                if (Math.random() > 0.7) {
                    matchData.stats.possession = {
                        home: Math.floor(Math.random() * 20) + 50,
                        away: Math.floor(Math.random() * 20) + 30
                    };
                    matchData.stats.possession.away = 100 - matchData.stats.possession.home;
                }
                if (Math.random() > 0.95) {
                    matchData.stats.score = matchData.stats.score || { home: 0, away: 0 };
                    if (Math.random() > 0.5) {
                        matchData.stats.score.home++;
                    } else {
                        matchData.stats.score.away++;
                    }
                }
                updateStats(matchData);
            }
        }, 5000);
    </script>
</body>
</html>